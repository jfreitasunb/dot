
Open the “/etc/environment” file, paste the following two lines, then save the file and exit.

GBM_BACKEND=nvidia-drm
__GLX_VENDOR_LIBRARY_NAME=nvidia

So, open the “/etc/mkinitcpio.conf” file:

MODULES=(nvidia nvidia_modeset nvidia_uvm nvidia_drm)

Great, but we’re not done with this file yet. Scroll down and remove the “kms” from the “HOOKS” section. This ensures that the initramfs will avoid including the open-source “nouveau” driver to mess with the work of the proprietary NVIDIA one we have installed and rely on.

sudo mkinitcpio -P

sudo nano /etc/default/grub

Locate the line that begins with “GRUB_CMDLINE_LINUX_DEFAULT” and append “nvidia-drm.modeset=1” to its end. The completed line should resemble the example provided below.

sudo grub-mkconfig -o /boot/grub/grub.cfg
